<div class="ride-container">
  <div class="ride-card">
    <h2>Create New Ride</h2>

    <!-- Success Message -->
    <div *ngIf="successMessage" class="alert alert-success">
      {{ successMessage }}
    </div>

    <!-- Error Message -->
    <div *ngIf="errorMessage" class="alert alert-error">
      {{ errorMessage }}
    </div>

    <form (ngSubmit)="onSubmit()" #rideForm="ngForm">
      <div class="form-row">
        <div class="form-group">
          <label for="from">From</label>
          <input
            type="text"
            id="from"
            name="from"
            [(ngModel)]="rideData.from"
            (input)="onFromInput($event.target.value)"
            placeholder="From"
            class="form-control"
            autocomplete="off"
            required
          />
          <ul *ngIf="filteredFromLocations.length" class="suggestions-list">
            <li *ngFor="let loc of filteredFromLocations" (click)="selectFromLocation(loc)">
              {{ loc }}
            </li>
          </ul>
        </div>

        <div class="form-group">
          <label for="to">To</label>
          <input
            type="text"
            id="to"
            name="to"
            [(ngModel)]="rideData.to"
            (input)="onToInput($event.target.value)"
            placeholder="To"
            class="form-control"
            autocomplete="off"
            required
          />
          <ul *ngIf="filteredToLocations.length" class="suggestions-list">
            <li *ngFor="let loc of filteredToLocations" (click)="selectToLocation(loc)">
              {{ loc }}
            </li>
          </ul>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="date">Date</label>
          <input
            type="date"
            id="date"
            name="date"
            [(ngModel)]="rideData.date"
            required
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="startTime">Start Time</label>
          <input
            type="time"
            id="startTime"
            name="startTime"
            [(ngModel)]="rideData.startTime"
            required
            class="form-control"
          />
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="totalSeats">Total Seats</label>
          <input
            type="number"
            id="totalSeats"
            name="totalSeats"
            [(ngModel)]="rideData.totalSeats"
            required
            min="1"
            placeholder="0"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="availableSeats">Available Seats</label>
          <input
            type="number"
            id="availableSeats"
            name="availableSeats"
            [(ngModel)]="rideData.availableSeats"
            required
            min="0"
            placeholder="0"
            class="form-control"
          />
        </div>
      </div>

      <div class="form-group">
        <label for="amount">Amount (â‚¹)</label>
        <input
          type="number"
          id="amount"
          name="amount"
          [(ngModel)]="rideData.amount"
          required
          min="0"
          step="0.01"
          placeholder="0.00"
          class="form-control"
        />
      </div>

      <button type="submit" class="btn-submit" [disabled]="!rideForm.form.valid || isSubmitting">
        {{ isSubmitting ? 'Creating...' : 'Create Ride' }}
      </button>
    </form>
  </div>
</div>
